<sdm-create-collection>
    <div class="collection-title">Create or Update Collection</div>
    <form name="form" class="create-collection" ng-class="{error: form.hasErrors}">
            <select class="form-control" ng-options="collection.name for collection in sdmCCController.existingCollections" ng-model="sdmCCController.selectedCollection" ng-change="sdmCCController.selectCollection()">
                <option class="default" value="">{{sdmCCController.defaultSelectText}}</option>
            </select>
            <div class="sdm-input-label">Name</div>
            <input class="form-control" type="text" ng-model="sdmCCController.collectionName" placeholder="(Create New Collection)" required>
            </input>
            <div class="sdm-input-label">Notes</div>
            <textarea class="form-control" ng-model="sdmCCController.collectionNotes">
            </textarea>
            <div class="sdm-input-label">Share</div><br>
            <div id="share" class="form-inline">
                <input class="typeahead form-control" type="text" placeholder="Enter User ID" ng-model="sdmCCController.selectedUID"></input>
                <select class="form-control" ng-init="" ng-options="role.name for role in sdmCCController.roles" ng-model="sdmCCController.selectedRole"></select>
                <span class="glyphicon glyphicon-plus-sign" ng-click="sdmCCController.addUser()"></span>
            </div>

            <div id="permissions">
                <div class="sdm-input-label">Permissions</div><br>
                <div class="permissions-header">
                    <table class="table">
                        <thead>
                            <tr>
                                <td>User ID</td>
                                <td>Permissions</td>
                                <td>Remove</td>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="permissions-body">
                    <table class="table">
                        <tbody>
                            <tr class='user-permission' ng-repeat="permission in sdmCCController.addedPermissions">
                                <td>{{permission.uid}}</td>
                                <td>{{permission.access}}</td>
                                <td>
                                    <span class="glyphicon glyphicon-remove" ng-if="permission.uid!==sdmCCController.curator._id" ng-click="sdmCCController.removeUser($index)"></span>
                                    <span class="glyphicon glyphicon-remove disabled" ng-if="permission.uid===sdmCCController.curator._id"></span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>



        <div class="collection-confirm-buttons">
            <input type="button" id="user-preferences-cancel" class="btn btn-default btn-xs" ng-click="sdmCCController.cancel($event)" value="Cancel"></input>
            <input id="user-preferences-delete" type="submit" class="btn btn-default btn-xs" ng-click="sdmCCController.delete($event)" ng-if="sdmCCController.collectionID" value="Delete"></input>
            <input id="user-preferences-save" type="submit" class="btn btn-default btn-xs" ng-click="sdmCCController.save($event, form)" value="Save"></input>
        </div>
    </form>
</sdm-create-collection>
